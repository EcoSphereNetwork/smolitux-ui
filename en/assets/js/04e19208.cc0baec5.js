"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7392],{8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},9071:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"improvement-plan/snapshot-linting-fix-plan","title":"Fix-Plan: Schnappschussdateien aktualisieren und Linting beheben","description":"Fix\u2011Plan zur Aktualisierung der Schnappschussdateien und Behebung des Lintings","source":"@site/wiki/improvement-plan/snapshot-linting-fix-plan.md","sourceDirName":"improvement-plan","slug":"/improvement-plan/snapshot-linting-fix-plan","permalink":"/smolitux-ui/en/wiki/improvement-plan/snapshot-linting-fix-plan","draft":false,"unlisted":false,"editUrl":"https://github.com/EcoSphereNetwork/smolitux-ui/tree/main/docs/wiki/wiki/improvement-plan/snapshot-linting-fix-plan.md","tags":[],"version":"current","frontMatter":{},"sidebar":"guideSidebar","previous":{"title":"Phase 2: Barrierefreiheitsverbesserungen","permalink":"/smolitux-ui/en/wiki/improvement-plan/phase2-accessibility"},"next":{"title":"Flexbox","permalink":"/smolitux-ui/en/wiki/packages/layout/Flexbox"}}');var r=s(4848),t=s(8453);const l={},c="Fix-Plan: Schnappschussdateien aktualisieren und Linting beheben",d={},o=[];function a(e){const n={code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"fix-plan-schnappschussdateien-aktualisieren-und-linting-beheben",children:"Fix-Plan: Schnappschussdateien aktualisieren und Linting beheben"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fix\u2011Plan zur Aktualisierung der Schnappschussdateien und Behebung des Lintings"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fehlerhafte Testdatei beheben"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Datei ",(0,r.jsx)(n.code,{children:"packages/@smolitux/core/src/components/Toast/__tests__/Toast.spec.tsx"})," enth\xe4lt eine komplette HTML\u2011Seite und keine Testlogik."]}),"\n",(0,r.jsxs)(n.li,{children:["Datei ersetzen oder l\xf6schen und durch eine korrekte Testimplementierung ersetzen (z.\u202fB. ",(0,r.jsx)(n.code,{children:"Toast.test.tsx"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Abh\xe4ngigkeiten aktualisieren"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In ",(0,r.jsx)(n.code,{children:"package.json"})," im Root-Verzeichnis folgende devDependencies erg\xe4nzen:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"eslint-scope": "^8.3.0",\n"pretty-format": "^29.7.0"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Anschlie\xdfend alle Pakete neu installieren: ",(0,r.jsx)(n.code,{children:"yarn install"})," oder ",(0,r.jsx)(n.code,{children:"npm install"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Alternativ kann das neue Skript ",(0,r.jsx)(n.code,{children:"scripts/setup-dev-env.sh"})," genutzt werden, das alle Node-Abh\xe4ngigkeiten installiert und die Verf\xfcgbarkeit von ",(0,r.jsx)(n.code,{children:"eslint"}),", ",(0,r.jsx)(n.code,{children:"jest"})," und ",(0,r.jsx)(n.code,{children:"prettier"})," pr\xfcft."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Node-Module-Probleme beheben"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Falls ",(0,r.jsx)(n.code,{children:"node_modules/eslint"})," oder ",(0,r.jsx)(n.code,{children:"node_modules/jest-cli"})," unvollst\xe4ndig sind, ",(0,r.jsx)(n.code,{children:"rm -rf node_modules"})," ausf\xfchren und die Abh\xe4ngigkeiten komplett neu installieren."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:".prettierignore optimieren"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Nach Reparatur von ",(0,r.jsx)(n.code,{children:"Toast.spec.tsx"})," pr\xfcfen, welche Dateien noch Probleme verursachen:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"packages/@smolitux/charts/src/components/ScatterPlot/ScatterPlot.old.tsx\npackages/@smolitux/core/src/components/Menu/__tests__/Menu.spec.tsx\npackages/@smolitux/core/src/components/Menu/__tests__/Menu.test.original.tsx\npackages/@smolitux/core/src/components/RadioGroup/__tests__/RadioGroup.spec.tsx\npackages/@smolitux/core/src/components/RadioGroup/__tests__/RadioGroup.test.tsx\npackages/@smolitux/core/src/components/Skeleton/__tests__/Skeleton.spec.tsx\npackages/@smolitux/core/src/components/Toast/__tests__/Toast.spec.tsx (nach Fix entfernen)\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Nur Dateien mit dauerhaft ung\xfcltigen Fragmenten in ",(0,r.jsx)(n.code,{children:".prettierignore"})," belassen."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Linting-Fehler beheben"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Mit ",(0,r.jsx)(n.code,{children:"npm run lint"})," bzw. ",(0,r.jsx)(n.code,{children:"npm run lint:fix"})," alle Pakete pr\xfcfen."]}),"\n",(0,r.jsx)(n.li,{children:"Linting-Warnungen oder Fehler schrittweise korrigieren (Imports, Typen, Formatierung)."}),"\n",(0,r.jsx)(n.li,{children:"Bei Versionskonflikten (eslint 8 vs. 9) eine einheitliche Version definieren."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Schnappsch\xfcsse aktualisieren"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Nach der Installation der Abh\xe4ngigkeiten und erfolgreichem Linting:\n",(0,r.jsx)(n.code,{children:"npm run test:update-snapshots"})," ausf\xfchren."]}),"\n",(0,r.jsxs)(n.li,{children:["Dadurch werden alle vorhandenen Snapshot-Dateien unter ",(0,r.jsx)(n.code,{children:"__tests__/__snapshots__"})," aktualisiert."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Testlauf validieren"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"npm run test"})," ausf\xfchren."]}),"\n",(0,r.jsxs)(n.li,{children:["Falls weitere Schnappsch\xfcsse fehlen oder Tests fehlschlagen, erneut ",(0,r.jsx)(n.code,{children:"npm run test:update-snapshots"})," aufrufen und Fehler korrigieren."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Formatierung sicherstellen"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"npm run format"})," ausf\xfchren und alle \xc4nderungen committen."]}),"\n",(0,r.jsxs)(n.li,{children:["Bei Bedarf ",(0,r.jsx)(n.code,{children:"npm run format:check"})," in CI integrieren."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Empfehlungen f\xfcr zuk\xfcnftige Tests & Formatierungen"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Snapshot-Tests regelm\xe4\xdfig mit ",(0,r.jsx)(n.code,{children:"npm run test:update-snapshots"})," aktualisieren."]}),"\n",(0,r.jsxs)(n.li,{children:["Linting und Formatierung als pre-commit Hooks (z.\u202fB. mit ",(0,r.jsx)(n.code,{children:"husky"}),"/",(0,r.jsx)(n.code,{children:"lint-staged"}),") einrichten."]}),"\n",(0,r.jsx)(n.li,{children:"Gr\xf6\xdfere HTML-Dateien oder generierte Testdaten als Fixtures ablegen und nicht in Testdateien einbetten."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bekannte Fehlerquellen"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In CI/CD-Umgebungen ohne Netzverbindung muss ",(0,r.jsx)(n.code,{children:"scripts/setup-dev-env.sh"})," ausgef\xfchrt oder ein ",(0,r.jsx)(n.code,{children:"node_modules"}),"-Cache bereitgestellt werden."]}),"\n",(0,r.jsxs)(n.li,{children:["Pr\xfcfe nach jedem Neuaufsetzen der Umgebung die Verf\xfcgbarkeit von ",(0,r.jsx)(n.code,{children:"eslint"}),", ",(0,r.jsx)(n.code,{children:"jest"})," und ",(0,r.jsx)(n.code,{children:"prettier"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Dieser Plan f\xfchrt zu konsistenten Abh\xe4ngigkeiten, repariert die fehlerhafte Testdatei und sorgt daf\xfcr, dass Formatierung, Linting und Tests wieder ohne Fehler laufen."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);